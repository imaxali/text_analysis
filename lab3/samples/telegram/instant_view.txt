Я люблю Телеграм, и люблю читать в статьи в Instant View. Причины: скорость, удобство, отсутствие рекламы, но самое главное — возможность создать IV для любого сайта за ~5-10 минут.

Я сказал "5-10 минут"? Ой, я имел в виду 2 года.

Instant View быстр. Я понимаю, что его скорость обусловлена тем, что Телеграм уже открыт, а для открытия стороннего браузера/приложения нужно время. Но мне кажется, что IV работает быстрее AMP и Instant Articles.

Впрочем, выбор зависит лишь от того, где вы проводите больше времени — в мессенджере, браузере или приложении Facebook.


Написать код для Instant View и правда можно за 5-10 минут. Достаточно прочитать мануал, посмотреть шпаргалку по XPath и нажать Ctrl+Shift+I. После задать элементы, содержащие тело и заголовок статьи, обрезать лишнее с помощью @remove и всё.

~version: "2.1"     # Последняя версия Instant View
body: //div[has-class("post__text")]

Этого кода достаточно, чтобы перевести весь Хабр в Instant View. Однако многие сайты не так просты, поэтому в языке IV есть переменные, условия и функции.


Если вам попался сайт с простой разметкой, то трудности начнутся здесь.

Единственный способ опубликовать статью в Instant View — это сделать ссылку вида https://t.me/iv?url=[ССЫЛКА]&rhash=[...], куда необходимо вставить ссылку на статью и rhash-идентификатор вашего Шаблона.

Удобно? Быстро? Красиво? Нет, нет, и ещё раз нет. Итоговую ссылку обычно прячут в текст, точку или неразрывный пробел. Я даже создал бесплатного бота, который делает это за пользователя.

В то же время на сайте IV написано, что есть и другой способ получить Instant View для своего сайта — дождаться одобрения вашего Шаблона от команды Телеграм. Я отправил свои Шаблоны (1, 2, 3). Прошло больше года — реакции не последовало.


Единственный способ получить Instant View без костылей сейчас — зайти на сайт Конкурса IV, нажать Add Domain и добавить свой сайт.

Между первым и вторым Конкурсом прошло 2 года, и второй Конкурс длился в полтора раза дольше объявленного (комментарий победителя). Такими темпами прогноз, что вам придётся ждать 2 года, может оказаться слишком оптимистичным.

И желательно не менять разметку после Конкурса, потому что Instant View просто перестанет работать, и не факт, что это пофиксят.


К сожалению, развитию и популярности самой скоростной технологии Телеграм мешает… сам Телеграм. Ваш сайт не получит Instant View, даже если вы сами напишете для этого идеальный код.

Я вижу решение в создании волонтёрских команд, как сделано с Переводами и Поддержкой, или же в увеличении количества сотрудников, работающих над IV.

Искренне надеюсь, что мессенджер не прекратит поддержку этой технологии и станет по-настоящему удобнее AMP-страниц и RSS-агрегаторов. Судя по вчерашнему объявлению конкурса на создание алгоритмов кластеризации и ранжирования контента, который очевидно будет встроен в Instant View, развитие продолжится.

Своей статьёй я лишь хочу привлечь внимание к этому узкому месту, которое сильно снижает потенциал развития всей платформы.